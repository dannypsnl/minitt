<html><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="assets/main.css"/></head><body><p>expr: 27.76%<br/></p><div class="code"><div class="lines-wrapper"><div class="line-numbers"><div><a href="#1">1</a></div><div><a href="#2">2</a></div><div><a href="#3">3</a></div><div><a href="#4">4</a></div><div><a href="#5">5</a></div><div><a href="#6">6</a></div><div><a href="#7">7</a></div><div><a href="#8">8</a></div><div><a href="#9">9</a></div><div><a href="#10">10</a></div><div><a href="#11">11</a></div><div><a href="#12">12</a></div><div><a href="#13">13</a></div><div><a href="#14">14</a></div><div><a href="#15">15</a></div><div><a href="#16">16</a></div><div><a href="#17">17</a></div><div><a href="#18">18</a></div><div><a href="#19">19</a></div><div><a href="#20">20</a></div><div><a href="#21">21</a></div><div><a href="#22">22</a></div><div><a href="#23">23</a></div><div><a href="#24">24</a></div><div><a href="#25">25</a></div><div><a href="#26">26</a></div><div><a href="#27">27</a></div><div><a href="#28">28</a></div><div><a href="#29">29</a></div><div><a href="#30">30</a></div><div><a href="#31">31</a></div><div><a href="#32">32</a></div><div><a href="#33">33</a></div><div><a href="#34">34</a></div><div><a href="#35">35</a></div><div><a href="#36">36</a></div><div><a href="#37">37</a></div><div><a href="#38">38</a></div><div><a href="#39">39</a></div><div><a href="#40">40</a></div><div><a href="#41">41</a></div><div><a href="#42">42</a></div><div><a href="#43">43</a></div><div><a href="#44">44</a></div><div><a href="#45">45</a></div><div><a href="#46">46</a></div><div><a href="#47">47</a></div><div><a href="#48">48</a></div></div><div class="file-lines"><div class="line" id="1"><span class="irrelevant">#lang</span>&nbsp;<span class="covered">typed/racket</span></div><div class="line" id="2"><span class="covered">(provide</span>&nbsp;<span class="covered">(all-defined-out))</span></div><div class="line" id="3"><span class="covered">(require</span>&nbsp;<span class="covered">"ast.rkt"</span></div><div class="line" id="4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="covered">"eval.rkt")</span></div><br id="5"/><div class="line" id="6"><span class="covered">(:</span>&nbsp;<span class="covered">readback-value</span>&nbsp;<span class="covered">:</span>&nbsp;<span class="covered">Value</span>&nbsp;<span class="covered">-&gt;</span>&nbsp;<span class="covered">NormalExpr)</span></div><div class="line" id="7"><span class="covered">(define</span>&nbsp;<span class="covered">(readback-value</span>&nbsp;<span class="covered">v)</span></div><div class="line" id="8">&nbsp;&nbsp;<span class="uncovered">(match</span>&nbsp;<span class="uncovered">v</span></div><div class="line" id="9">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(V:Lambda</span>&nbsp;<span class="uncovered">f)</span>&nbsp;<span class="uncovered">(NE:Lambda</span>&nbsp;<span class="uncovered">(readback-value</span>&nbsp;<span class="uncovered">(Inst</span>&nbsp;<span class="uncovered">f</span>&nbsp;<span class="uncovered">(genV))))]</span></div><div class="line" id="10">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(V:Pair</span>&nbsp;<span class="uncovered">u</span>&nbsp;<span class="uncovered">v)</span>&nbsp;<span class="uncovered">(NE:Pair</span>&nbsp;<span class="uncovered">(readback-value</span>&nbsp;<span class="uncovered">u)</span>&nbsp;<span class="uncovered">(readback-value</span>&nbsp;<span class="uncovered">v))]</span></div><div class="line" id="11">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(V:Constructor</span>&nbsp;<span class="uncovered">c</span>&nbsp;<span class="uncovered">v)</span>&nbsp;<span class="uncovered">(NE:Constructor</span>&nbsp;<span class="uncovered">c</span>&nbsp;<span class="uncovered">(readback-value</span>&nbsp;<span class="uncovered">v))]</span></div><div class="line" id="12">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(V:Unit)</span>&nbsp;<span class="uncovered">(NE:Unit)]</span></div><div class="line" id="13">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(V:One)</span>&nbsp;<span class="uncovered">(NE:One)]</span></div><div class="line" id="14">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(V:Type</span>&nbsp;<span class="uncovered">level)</span>&nbsp;<span class="uncovered">(NE:Type</span>&nbsp;<span class="uncovered">level)]</span></div><div class="line" id="15">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(V:Pi</span>&nbsp;<span class="uncovered">t</span>&nbsp;<span class="uncovered">g)</span>&nbsp;<span class="uncovered">(NE:Pi</span>&nbsp;<span class="uncovered">(readback-value</span>&nbsp;<span class="uncovered">t)</span>&nbsp;<span class="uncovered">(readback-value</span>&nbsp;<span class="uncovered">(Inst</span>&nbsp;<span class="uncovered">g</span>&nbsp;<span class="uncovered">(genV))))]</span></div><div class="line" id="16">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(V:Sigma</span>&nbsp;<span class="uncovered">t</span>&nbsp;<span class="uncovered">g)</span>&nbsp;<span class="uncovered">(NE:Sigma</span>&nbsp;<span class="uncovered">(readback-value</span>&nbsp;<span class="uncovered">t)</span>&nbsp;<span class="uncovered">(readback-value</span>&nbsp;<span class="uncovered">(Inst</span>&nbsp;<span class="uncovered">g</span>&nbsp;<span class="uncovered">(genV))))]</span></div><div class="line" id="17">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(V:Sum</span>&nbsp;<span class="uncovered">c)</span>&nbsp;<span class="uncovered">(NE:Sum</span>&nbsp;<span class="uncovered">(readback-casetree</span>&nbsp;<span class="uncovered">c))]</span></div><div class="line" id="18">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(V:Neu</span>&nbsp;<span class="uncovered">l)</span>&nbsp;<span class="uncovered">(NE:Neu</span>&nbsp;<span class="uncovered">(readback-neu</span>&nbsp;<span class="uncovered">l))]</span></div><div class="line" id="19">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[else</span>&nbsp;<span class="uncovered">(error</span>&nbsp;<span class="uncovered">'unreachable)])</span><span class="covered">)</span></div><br id="20"/><div class="line" id="21"><span class="covered">(:</span>&nbsp;<span class="covered">readback-neu</span>&nbsp;<span class="covered">:</span>&nbsp;<span class="covered">Neutral</span>&nbsp;<span class="covered">-&gt;</span>&nbsp;<span class="covered">NormalNeutral)</span></div><div class="line" id="22"><span class="covered">(define</span>&nbsp;<span class="covered">(readback-neu</span>&nbsp;<span class="covered">n)</span></div><div class="line" id="23">&nbsp;&nbsp;<span class="uncovered">(match</span>&nbsp;<span class="uncovered">n)</span><span class="covered">)</span></div><br id="24"/><div class="line" id="25"><span class="covered">(:</span>&nbsp;<span class="covered">readback-casetree</span>&nbsp;<span class="covered">:</span>&nbsp;<span class="covered">CaseTree</span>&nbsp;<span class="covered">-&gt;</span>&nbsp;<span class="covered">NormalCaseTree)</span></div><div class="line" id="26"><span class="covered">(define</span>&nbsp;<span class="covered">(readback-casetree</span>&nbsp;<span class="covered">tele)</span></div><div class="line" id="27">&nbsp;&nbsp;<span class="uncovered">(for/hash</span>&nbsp;<span class="uncovered">:</span>&nbsp;<span class="uncovered">NormalCaseTree</span>&nbsp;<span class="uncovered">([(name</span>&nbsp;<span class="uncovered">case)</span>&nbsp;<span class="uncovered">(in-hash</span>&nbsp;<span class="uncovered">tele)])</span></div><div class="line" id="28">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">(values</span>&nbsp;<span class="uncovered">name</span></div><div class="line" id="29">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">(readback-case</span>&nbsp;<span class="uncovered">case)))</span><span class="covered">)</span></div><br id="30"/><div class="line" id="31"><span class="covered">(:</span>&nbsp;<span class="covered">readback-case</span>&nbsp;<span class="covered">:</span>&nbsp;<span class="covered">Case</span>&nbsp;<span class="covered">-&gt;</span>&nbsp;<span class="covered">NormalCase)</span></div><div class="line" id="32"><span class="covered">(define</span>&nbsp;<span class="covered">(readback-case</span>&nbsp;<span class="covered">case)</span></div><div class="line" id="33">&nbsp;&nbsp;<span class="uncovered">(GCase</span>&nbsp;<span class="uncovered">(if</span>&nbsp;<span class="uncovered">(Value?</span>&nbsp;<span class="uncovered">(GCase-expr</span>&nbsp;<span class="uncovered">case))</span></div><div class="line" id="34">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">(readback-value</span>&nbsp;<span class="uncovered">(GCase-expr</span>&nbsp;<span class="uncovered">case))</span></div><div class="line" id="35">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">(GCase-expr</span>&nbsp;<span class="uncovered">case))</span></div><div class="line" id="36">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">(readback-telescope</span>&nbsp;<span class="uncovered">(GCase-context</span>&nbsp;<span class="uncovered">case)))</span><span class="covered">)</span></div><br id="37"/><div class="line" id="38"><span class="covered">(:</span>&nbsp;<span class="covered">readback-telescope</span>&nbsp;<span class="covered">:</span>&nbsp;<span class="covered">(GTelescope</span>&nbsp;<span class="covered">Value)</span>&nbsp;<span class="covered">-&gt;</span>&nbsp;<span class="covered">(GTelescope</span>&nbsp;<span class="covered">NormalExpr))</span></div><div class="line" id="39"><span class="covered">(define</span>&nbsp;<span class="covered">(readback-telescope</span>&nbsp;<span class="covered">tele)</span></div><div class="line" id="40">&nbsp;&nbsp;<span class="uncovered">(match</span>&nbsp;<span class="uncovered">tele</span></div><div class="line" id="41">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(Tele:Nil)</span>&nbsp;<span class="uncovered">(Tele:Nil)]</span></div><div class="line" id="42">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(Tele:UpDec</span>&nbsp;<span class="uncovered">ctx</span>&nbsp;<span class="uncovered">decl)</span></div><div class="line" id="43">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">(Tele:UpDec</span>&nbsp;<span class="uncovered">(readback-telescope</span>&nbsp;<span class="uncovered">ctx)</span>&nbsp;<span class="uncovered">decl)]</span></div><div class="line" id="44">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[(Tele:UpVar</span>&nbsp;<span class="uncovered">ctx</span>&nbsp;<span class="uncovered">pat</span>&nbsp;<span class="uncovered">val)</span></div><div class="line" id="45">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">(Tele:UpVar</span>&nbsp;<span class="uncovered">(readback-telescope</span>&nbsp;<span class="uncovered">ctx)</span></div><div class="line" id="46">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">pat</span></div><div class="line" id="47">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">(readback-value</span>&nbsp;<span class="uncovered">(cast</span>&nbsp;<span class="uncovered">val</span>&nbsp;<span class="uncovered">Value)))]</span></div><div class="line" id="48">&nbsp;&nbsp;&nbsp;&nbsp;<span class="uncovered">[else</span>&nbsp;<span class="uncovered">(error</span>&nbsp;<span class="uncovered">'unreachable)])</span><span class="covered">)</span></div></div></div></div></body></html>